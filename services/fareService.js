// Fare data and initialization service

const fares = [
  [1, 1, 2, 3.50],
  [1, 2, 3, 5.00],
  [1, 3, 4, 2.50],
  [1, 4, 5, 2.00],
  [1, 5, 6, 1.00],
  [1, 6, 7, 5.00],
  [1, 7, 8, 4.00],
  [1, 8, 9, 5.00],
  [1, 9, 10, 15.00],
  [1, 10, 11, 10.00],
  [1, 11, 12, 5.00],
  [1, 12, 13, 5.00],
  [1, 13, 14, 5.00],
  [1, 14, 15, 5.00],
  [2, 16, 17, 5.00],
  [2, 17, 18, 5.00],
  [2, 18, 19, 5.00],
  [2, 19, 20, 5.00],
  [2, 20, 21, 10.00],
  [2, 21, 22, 15.00],
  [2, 22, 23, 5.00],
  [2, 23, 24, 4.00],
  [2, 24, 25, 5.00],
  [2, 25, 26, 1.00],
  [2, 26, 27, 2.00],
  [2, 27, 28, 2.50],
  [2, 28, 29, 5.00],
  [2, 29, 30, 3.50],
  [3, 31, 32, 5.00],
  [3, 32, 33, 5.00],
  [3, 33, 34, 3.50],
  [3, 34, 35, 4.50],
  [3, 35, 36, 3.25],
  [3, 36, 37, 7.50],
  [3, 37, 38, 2.50],
  [3, 38, 39, 1.50],
  [3, 39, 40, 3.00],
  [3, 40, 41, 10.00],
  [3, 41, 42, 2.50],
  [4, 43, 44, 2.50],
  [4, 44, 45, 10.00],
  [4, 45, 46, 3.00],
  [4, 46, 47, 1.50],
  [4, 47, 48, 2.50],
  [4, 48, 49, 7.50],
  [4, 49, 50, 3.25],
  [4, 50, 51, 4.50],
  [4, 51, 52, 3.50],
  [4, 52, 53, 5.00],
  [4, 53, 54, 5.00],
];

/**
 * Initialize fares in the database
 * @param {Object} db - Database connection object
 */
async function initializeFares(db) {
  const [fareRows] = await db.query('SELECT COUNT(*) as count FROM fare');
  if (fareRows[0].count === 0) {
    await db.query(
      'INSERT INTO fare (line_id, start_line_stop_id, end_line_stop_id, base_price) VALUES ?',
      [fares]
    );
    console.log('Fares inserted into fare table.');
  }
}

module.exports = {
  initializeFares
};
