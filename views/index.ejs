<div class="container">
    <h1>Welcome to Intercity Transportation System</h1>
    <p>This is the main page.</p>
    <% if (passenger) { %>
      <div class="greeting">Welcome, <%= passenger.name %> <%= passenger.surname %>!</div>
    <% } %>
    <form id="connection-finder" method="GET" action="/timetable">
        <div class="ticket-type">
            <label><input type="radio" name="ticket_type" value="normalny" checked> Bilet normalny</label>
            <label><input type="radio" name="ticket_type" value="ulgowy"> Bilet ulgowy</label>
        </div>
        <div class="form-group">
            <label for="line_code">Linia:</label>
            <select id="line_code" name="line_code_direction">
                <% lines.forEach(function(line) { %>
                    <option value="<%= line.line_code %>_<%= line.direction %>"><%= line.line_name %></option>
                <% }); %>
            </select>
        </div>
        <div class="form-group">
            <label for="departure_from">Wyjazd z:</label>
            <select id="departure_from" name="departure_from">
                <!-- Populated by JS based on selected line -->
            </select>
        </div>
        <div class="form-group">
            <label for="departure_to">Przyjazd do:</label>
            <select id="departure_to" name="departure_to">
                <!-- Populated by JS based on selected departure_from -->
            </select>
        </div>
        <div class="form-group">
            <label for="departure_date">Data odjazdu:</label>
            <input type="date" id="departure_date" name="departure_date" required min="<%= new Date().toISOString().split('T')[0] %>">
        </div>
        <button type="submit">Szukaj</button>
    </form>
    <script src="/js/connection-finder.js"></script>
</div>
